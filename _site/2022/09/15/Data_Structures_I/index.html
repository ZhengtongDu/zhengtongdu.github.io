<!doctype html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/grids-responsive-min.css">
  <link rel="stylesheet" href="/assets/styles.css"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Data Structures I | Zhengtong’s blog</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Data Structures I" />
<meta name="author" content="zhengtongdu" />
<meta property="og:locale" content="en" />
<meta name="description" content="Just a note example, better way to learn it is watching course videos." />
<meta property="og:description" content="Just a note example, better way to learn it is watching course videos." />
<link rel="canonical" href="http://localhost:4000/2022/09/15/Data_Structures_I/" />
<meta property="og:url" content="http://localhost:4000/2022/09/15/Data_Structures_I/" />
<meta property="og:site_name" content="Zhengtong’s blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-15T13:51:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Data Structures I" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"zhengtongdu","url":"https://github.com/zhengtongdu"},"dateModified":"2022-09-15T13:51:00+08:00","datePublished":"2022-09-15T13:51:00+08:00","description":"Just a note example, better way to learn it is watching course videos.","headline":"Data Structures I","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2022/09/15/Data_Structures_I/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/avapig.jpg"},"name":"zhengtongdu"},"url":"http://localhost:4000/2022/09/15/Data_Structures_I/"}</script>
<!-- End Jekyll SEO tag -->
<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Zhengtong's blog" />
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } });
  </script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
                       });
  </script>

  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript">
  </script>
</head>


  <body>

    <div class="container pure-g"><div class="sidebar-left pure-u-1 pure-u-md-1-4" style="background-color: rgb(40, 73, 77); color: rgb(255, 255, 255); background-image: url(/bg.jpg);"><header class="masthead">
  <div class="avatar"><img src="/avapig.jpg" class="avatar-image" alt="zhengtongdu">
    </div>
  <div class="masthead-title">
    <a href="/" title="Home">Zhengtong's blog</a>
  </div>
  <div class="masthead-tagline">
    <small>Learning and recording</small>
  </div><nav class="navigation">
    <ul class="navigation-list"><li class="navigation-item">
        <a onclick="sessionStorage.setItem('forceCheckScroll', 'true')" href="/">Blog</a>
      </li><li class="navigation-item">
        <a onclick="sessionStorage.setItem('forceCheckScroll', 'true')" href="/about/">About</a>
      </li></ul>
  </nav><div class="social pure-menu pure-menu-horizontal">
      <ul class="social-icons pure-menu-list">
      <li class="pure-menu-item">
          <a class="social-icon pure-menu-link" href="mailto://zhengtongdu@zju.edu.cn">
            <i class="fas fa-envelope" title="Email"></i>
          </a>
        </li><li class="pure-menu-item">
          <a class="social-icon pure-menu-link" href="https://github.com/zhengtongdu">
            <i class="fab fa-github" title="GitHub"></i>
          </a>
        </li>
      </ul>
    </div>
</header>
</div>

      <div class="content pure-u-1 pure-u-md-1-2"><main>
  <article class="post">
  <h1 class="post-title">Data Structures I</h1>
  <div class="post-meta"><time datetime="2022-09-15T13:51:00+08:00" itemprop="datePublished">15 Sep 2022</time></div>

  <p>Just a note example, better way to learn it is watching course videos.</p>

<h1 id="lesson-01-adtlist-implementation">Lesson 01: ADTList Implementation</h1>

<p>ADT(Abstract Data Type)List: A set of objects together with a set of operations</p>

<p>Some notations: The size of list is <em>N</em>, <strong>empty list</strong> when <em>N = 0</em>;</p>

<ul>
  <li>Operations of List:</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: left">function</th>
      <th style="text-align: left">description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">printList()</td>
      <td style="text-align: left">build a list <em>L</em></td>
    </tr>
    <tr>
      <td style="text-align: left">makeEmpty(<em>L</em>)</td>
      <td style="text-align: left">make list <em>L</em> empty</td>
    </tr>
    <tr>
      <td style="text-align: left">findKth(<em>pos</em>)</td>
      <td style="text-align: left">find the <em>pos</em>th element</td>
    </tr>
    <tr>
      <td style="text-align: left">insert(<em>pos</em>, <em>x</em>)</td>
      <td style="text-align: left">insert <em>x</em> at <em>pos</em></td>
    </tr>
    <tr>
      <td style="text-align: left">remove(<em>x</em>)</td>
      <td style="text-align: left">delete the element <em>x</em></td>
    </tr>
    <tr>
      <td style="text-align: left">next(<em>pos</em>)</td>
      <td style="text-align: left">return the position of <em>pos</em>th element’s successor</td>
    </tr>
    <tr>
      <td style="text-align: left">previous(<em>pos</em>)</td>
      <td style="text-align: left">return the position of <em>pos</em>th element’s predecessor</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>Simple implementation</li>
</ul>

<p>It’s the first time to write a cpp-class…</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class ADTList
{
  double *data;
  int size;
}
</code></pre></div></div>

<p>Hold on! How to create a cpp file and edit it when you face so clear terminal?</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ emacs main.cpp
Maybe you should install it.
$ sudo apt-get install emacs
</code></pre></div></div>

<ul>
  <li>There are three main text editors used in the linux(ubuntu): Emacs / Vim / VS-Code. Now you can use one of them to create <em>main.cpp</em> file and edit it.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//main.cpp
#include &lt;iostream&gt;

int main(int argc, int *argv[])
{
        std::cout &lt;&lt; "Hello world!" &lt;&lt; std::endl;
        return 0;
}
</code></pre></div></div>

<p>Back to terminal(or directly work on Emacs) and compile the file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ g++ -o main main.cpp
$ ./main
</code></pre></div></div>
<p>You will see “Hello world!” in your terminal.</p>

<p>OK, we’ll add more details:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//main.cpp
#include &lt;iostream&gt;

class ADTList
{
private:
  double *data;
  int size;
public:
  void makeEmpty();
}

int main(int argc, char *argv[])
{
  ADTList A;
  A.makeEmpty();

  std::cout &lt;&lt; "Hello world!" &lt;&lt; std::endl;
  return 0;
}
</code></pre></div></div>

<p>Attention! You should intialize the element of <em>A</em> before doing other things!</p>

<ul>
  <li>Construtor</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public:
ADTList() // No return value (which is different from void)
{
  data = nullptr;
  size = 0;
}
</code></pre></div></div>

<p><strong>using gdb to dubug</strong></p>

<p>If you want the constructor offers other service for you to create a object like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ADTList A{15, 20, 1, 23}; 
</code></pre></div></div>
<p>You should link another library *<intializer_list>*, [click it and see more about it.](https://cplusplus.com/reference/initializer_list/initializer_list/initializer_list/)</intializer_list></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//main.cpp
#include &lt;iostream&gt;
#include &lt;initializer_list&gt;

class ADTList
{
private:
  double *data;
  int size;
public:

  ADTList()
  {
    data = nullptr;
    size = 0;
  }
  
  ADTList(std::initializer_list&lt;double&gt; _list);

  void makeEmpty();
};

ADTList::ADTList(std::initializer_list&lt;double&gt; _list)
{
    ~ADTlist(); // Destructor, similiar to constructor

ADTList::~ADTList()
{
  if (data != nullptr)
     delete [] data;
}

ADTList::makeEmtpy()
{
  if (data != nullptr)
     delete [] data;
  size = 0;
}

</code></pre></div></div>

<p>One more step! Using a private function to replace the same piece, make it a inline function to boost efficiency.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>private:
  inline void _empty()
  {
    if (data != nullptr)
       delete [] data;
  }
public:
  ~ADTList();

ADTList::~ADTList()
{
  _empty();
}

ADTList::makeEmtpy()
{
  _empty();
  size = 0;
}

</code></pre></div></div>

<ul>
  <li>You can also use <strong>valgrind</strong> to check if memory leak exists.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ g++ -o main main.cpp
$ valgrind ./main
</code></pre></div></div>

<ul>
  <li>Add a <strong>real</strong> function <em>insert(int _p, double _v)</em>:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void ADTList::insert(int _p, double _v)
{
    
  double *data_new = new double [size + 1];
  int i = 0;
  for (; i &lt; _p - 1; i++)
    data_new[i] = data[i];
  data_new[i] = _v;
  for (; i&lt; size; i++)
    data_new[i+1] = data[i];
  _empty();
  data = data_new;
  size = size+1;
}
</code></pre></div></div>

<p>If the client programmer wants to insert a new element at an <strong>illegal</strong> position, the program should return an error message:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  if(_p &gt;= size || _p &lt;0)
    {
      std::cout &lt;&lt; "Out of range" &lt;&lt; std::endl;
      std::exit(2);
    }
</code></pre></div></div>
<p>(How to check the error code? You can use shell command like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ echo $?
</code></pre></div></div>
<p>If “out of rage” happens, terminal will return the error code “2”.
)</p>

<ul>
  <li>The remain functions are similiar to <em>insert(int _p, double _v)</em>, try to write it. The following is the code mentioned in this lesson:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//main.cpp
#include &lt;iostream&gt;
#include &lt;initializer_list&gt;

class ADTList
{
private:
  double *data;
  int size;
  void _empty()
  {
    if (data != nullptr)
      delete [] data;
  }
public:

  ADTList()
  {
    data = nullptr;
    size = 0;
  }
  
  ADTList(std::initializer_list&lt;double&gt; _list);
  ~ADTList();
  
  void makeEmpty();
  void printList();
  bool is_empty();
  void insert(int _p, double _v);
};

ADTList::ADTList(std::initializer_list&lt;double&gt; _list)
{
  size = _list.size();
  data = new double[size];
  int i = 0;
  for (double x : _list){
    data[i] = x;
    i++;
  }
};

ADTList::~ADTList()
{
  _empty();
};

void ADTList::makeEmpty()
{
  _empty();
  size = 0;
};

void ADTList::printList()
{
  for (int i = 0; i &lt; size; i++)
    std::cout &lt;&lt; data[i] &lt;&lt; "  ";
  std::cout &lt;&lt; std::endl;
};

bool ADTList::is_empty()
{
  return (size == 0);
};

void ADTList::insert(int _p, double _v)
{
  if(_p &gt;= size || _p &lt;0)
    {
      std::cout &lt;&lt; "Out of range" &lt;&lt; std::endl;
      std::exit(2);
    }
    
  double *data_new = new double [size + 1];
  int i = 0;
  for (; i &lt; _p - 1; i++)
    data_new[i] = data[i];
  data_new[i] = _v;
  for (; i&lt; size; i++)
    data_new[i+1] = data[i];
  _empty();
  data = data_new;
  size = size+1;
}


int main(int argc, char *argv[])
{
  ADTList A{1,2,3};
  A.printList();
  A.insert(2, 4);
  // A.insert(4, 4); // Error happens!
  A.printList();
  return 0;
}

</code></pre></div></div>



  
    
      <div class="post-tags-section">
  <i class="post-tags-icon fas fa-tags"></i>
  <ul class="post-tags"><li>
        <a class="post-tag" href="/tags/#learning">learning</a></li><li>
        <a class="post-tag" href="/tags/#data-structure">data-structure</a></li></ul>
</div>

  

  
</article>


<aside class="related">
  <h2>Related posts</h2>
  <ul class="related-posts">
    
      <li>
        <a href="/2023/01/14/Computational_Geometry_notes_01/">
          Computational_Geometry_notes_01
          <small><time datetime="2023-01-14T23:49:00+08:00">14 Jan 2023</time></small>
        </a>
      </li>
    
      <li>
        <a href="/2023/01/14/GAMES101_notes_02/">
          GAMES101_notes_02
          <small><time datetime="2023-01-14T23:44:00+08:00">14 Jan 2023</time></small>
        </a>
      </li>
    
      <li>
        <a href="/2023/01/14/6_046_notes_01/">
          6.046_notes_01
          <small><time datetime="2023-01-14T23:44:00+08:00">14 Jan 2023</time></small>
        </a>
      </li>
    
  </ul>
</aside>


</main>

<footer class="footer"><small>
    &copy; 2022&nbsp;-&nbsp;2023 <a href="https://github.com/zhengtongdu">zhengtongdu</a>. All rights reserved.
    Powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://github.com/vszhub/not-pure-poole">Not Pure Poole</a>.
  </small>
</footer>
</div>
      <div class="sidebar-right pure-u-1 pure-u-md-1-4">
<div  class="toc-wrapper">
  <h2 class="toc-title">Table of Contents</h2>
    <nav class="toc-nav">
      

  </nav>
</div>

</div>
    </div>

    <script async src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script><script>
  function strip(str, remove) {
    while (str.length > 0 && remove.indexOf(str.charAt(0)) != -1) {
      str = str.substr(1);
    }
    while (str.length > 0 && remove.indexOf(str.charAt(str.length - 1)) != -1) {
      str = str.substr(0, str.length - 1);
    }
    return str;
  }

  function scroll() {
    console.log('scroll');
    window.scrollTo({
      left: 0, 
      top: window.innerHeight,
      behavior: 'smooth'
    });
    sessionStorage.removeItem('forceCheckScroll');
  }

  const forceCheckScroll = sessionStorage.getItem('forceCheckScroll') === 'true';
  const checkScroll = strip(window.location.pathname, '/') !== strip('', '/');

  if (forceCheckScroll || checkScroll) {
    const maxWidth = "(max-width: 48rem)";
    const result = window.matchMedia(maxWidth);
    if (result.matches) {
      scroll();
    } else {
      result.addListener((match) => {
        if (match.media == maxWidth) {
          if (match.matches) {
            scroll();
          }
        }
      });
    }
  }
</script>
</body>
</html>
